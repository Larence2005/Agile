"use strict";(self.webpackChunkskye=self.webpackChunkskye||[]).push([[615],{7063:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuItem=t.ContextMenuRow=t.ContextMenuSeparator=t.ContextMenu=void 0;const i=o(9163),n=o(6308),a=o(6905);t.ContextMenu=i.default.div.withConfig({componentId:"-mkwzpq"})`outline:none;position:absolute;backface-visibility:hidden;transform:translateZ(0)scale(1, 1);width:150px;cursor:default;backdrop-filter:blur(10px);z-index:9999;box-shadow:${(0,n.shadows)(8)};border-radius:8px;${({visible:e,theme:t,bigger:o,translucent:n})=>i.css`
    padding: ${o?8:4}px 0;
    transition: ${e?`0.35s opacity ${a.DIALOG_EASING}, 0.35s transform ${a.DIALOG_EASING}`:"none"};
    opacity: ${e?1:0};
    transform: translate3d(0px, ${e?0:-10}px, 0px);
    pointer-events: ${e?"inherit":"none"};
    background-color: ${n?t["dropdown.backgroundColor.translucent"]:t["dropdown.backgroundColor"]};
  `}`,t.ContextMenuSeparator=i.default.div.withConfig({componentId:"-2juuyv"})`height:1px;width:100%;${({theme:e,bigger:t})=>i.css`
    background-color: ${e["dropdown.separator.color"]};
    margin: ${t?8:4}px 0px;
  `}`,t.ContextMenuRow=i.default.div.withConfig({componentId:"-vvdt59"})`margin:0 20px;display:flex;align-items:center;`,t.ContextMenuItem=i.default.div.withConfig({componentId:"-11o543n"})`padding:12px 24px;font-weight:400;position:relative;${({icon:e,selected:t,theme:o,bigger:a,visible:r,iconSize:l,disabled:d})=>i.css`
    pointer-events: ${d?"none":"inherit"};
    opacity: ${d?.38:1};
    font-size: ${a?14:13}px;
    padding: ${a?12:10}px ${a?20:12}px;
    align-items: center;
    display: ${void 0===r||r?"flex":"none"};
    background-color: ${t?o["control.lightIcon"]?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)":"none"};

    svg {
      margin-right: 8px;
    }
    &:hover {
      background-color: ${o["control.lightIcon"]?`rgba(255, 255, 255, ${t?.15:.08})`:`rgba(0, 0, 0, ${t?.1:.06})`};
    }

    ${e&&`\n      padding-left: ${16+l+12}px;\n      &:before {\n        content: '';\n        filter: ${o["control.lightIcon"]?"invert(100%)":"none"};\n        opacity: 0.54;\n        ${(0,n.centerIcon)()};\n        width: ${l}px;\n        height: ${l}px;\n        left: 16px;\n        position: absolute;\n        -webkit-backface-visibility: hidden;\n        -webkit-transform: translateZ(0) scale(1.0, 1.0);\n        background-image: url(${e});\n      }\n    `}
  `}`,t.ContextMenuItem.defaultProps={iconSize:18}},4364:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=void 0;const i=o(9163);t.ListItem=i.default.div.withConfig({componentId:"-p2bwow"})`display:flex;align-items:center;padding:0 24px;height:48px;overflow:hidden;${({selected:e,theme:t})=>i.css`
    background-color: ${e?t["pages.lightForeground"]?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)":"transparent"};
      color: ${t["pages.lightForeground"]?"#fff":"#000"};
    &:hover {
      background-color: ${t["pages.lightForeground"]?`rgba(255, 255, 255, ${e?.12:.08})`:`rgba(0, 0, 0, ${e?.08:.04})`};
    }
  `};`},6785:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionDialog=void 0;const i=o(7294),n=o(2766),a=o(2609),r=o(1108);t.SelectionDialog=(0,n.observer)((({amount:e,visible:t,onDeleteClick:o,onCancelClick:n,theme:l})=>i.createElement(a.StyledSmallDialog,{visible:t},i.createElement(a.Title,null,e," selected"),i.createElement(r.Button,{style:{marginLeft:16},onClick:o},"Delete"),i.createElement(r.Button,{background:l["dialog.lightForeground"]?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",foreground:l["dialog.lightForeground"]?"white":"black",style:{marginLeft:8},onClick:n},"Cancel"))))},2609:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Title=t.StyledSmallDialog=void 0;const i=o(9163),n=o(6308);t.StyledSmallDialog=i.default.div.withConfig({componentId:"-c7jgl3"})`width:fit-content;position:fixed;top:16px;left:${1392}px;border-radius:8px;overflow:hidden;display:flex;align-items:center;padding:12px 12px 12px 16px;box-shadow:${(0,n.shadows)(8)};will-change:opacity;transform:translateX(-100%);transition:0.15s opacity;z-index:999;@media all and (max-width: ${1488}px){left:auto;transform:translateX(0);right:${96}px;}${({visible:e,theme:t})=>i.css`
    opacity: ${e?1:0};
    pointer-events: ${e?"inherit":"none"};
    background-color: ${t["dialog.backgroundColor"]};
  `};`,t.Title=i.default.div.withConfig({componentId:"-7lvk4w"})`font-size:12px;margin-right:4px;`},1298:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Textfield=void 0;const i=o(7294),n=o(6905),a=o(632),r=o(7625);class l extends i.PureComponent{constructor(){super(...arguments),this.inputRef=i.createRef(),this.state={activated:!1,focused:!1,error:!1,value:void 0},this.onClick=()=>{this.inputRef.current.focus()},this.onFocus=()=>{this.setState({activated:!0,focused:!0})},this.onBlur=()=>{this.setState({activated:0!==this.value.length,focused:!1})},this.onIconClick=e=>{e.stopPropagation(),e.preventDefault();const{onIconClick:t}=this.props;"function"==typeof t&&t(this)},this.onInput=()=>{clearTimeout(this.timer);const{onChange:e}=this.props;this.setState({error:!1,value:this.inputRef.current.value}),e&&e(this.inputRef.current.value)}}get value(){return this.inputRef.current.value}set value(e){this.inputRef.current.value=e,this.setState({activated:!!e.length,value:e})}test(e){const{test:t}=this.props;if(null==e&&null==t)return!0;const o=null!=e?e(this.value):t(this.value);return this.setState({error:!o,focused:!o,activated:0!==this.value.length||!o}),o}clear(){this.value="",this.setState({activated:!1,error:!1,focused:!1})}render(){const{color:e,label:t,placeholder:o,icon:d,inputType:s,style:c,width:u,dark:p}=this.props,{activated:f,focused:h,error:g,value:m}=this.state,b=null!=t&&""!==t,v=null!=d&&""!==d,I=g?n.ERROR_COLOR:e;return i.createElement(a.StyledTextfield,{className:"textfield",onClick:this.onClick,style:c,dark:p,width:u||l.defaultProps.width},i.createElement(a.Input,{dark:p,ref:this.inputRef,type:s||l.defaultProps.inputType,color:I,onFocus:this.onFocus,onBlur:this.onBlur,hasLabel:b,hasIcon:v,placeholder:null==t||h?o:null,onInput:this.onInput,spellCheck:!1,value:m}),b&&i.createElement(a.Label,{dark:p,activated:f,focused:h,color:I},t),v&&i.createElement(a.Icon,{dark:p,src:"string"==typeof d?d:"",onClick:this.onIconClick},"string"!=typeof d&&i.createElement(r.FontAwesomeIcon,{icon:d})),i.createElement(a.Indicator,{focused:h,color:I}))}}t.Textfield=l,l.defaultProps={color:n.BLUE_500,inputType:"text",width:280,delay:200}},632:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.Indicator=t.Label=t.Input=t.StyledTextfield=void 0;const i=o(9163),n=o(6308),a=o(6905);t.StyledTextfield=i.default.div.withConfig({componentId:"-2eedug"})`${({width:e,dark:t})=>i.css`
    width: ${void 0===e?280:e}px;
    background-color: ${t?"rgba(255, 255, 255, 0.06)":"#f5f5f5"};
  `} position:relative;border-top-right-radius:4px;border-top-left-radius:4px;overflow:hidden;cursor:text;user-select:none;`,t.Input=i.default.input.withConfig({componentId:"-c1jbyj"})`width:100%;height:55px;font-size:16px;padding-left:12px;border:none;outline:none;background-color:transparent;user-select:auto;${(0,n.interRegular)()};${({color:e,hasLabel:t,hasIcon:o,dark:r})=>i.css`
    padding-top: ${t?12:0}px;
    padding-right: ${o?48:12}px;
    ${(0,n.coloredCursor)(e,r?255:0)};
    border-bottom: 1px solid
      ${r?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.42)"};

    &::placeholder {
      text-shadow: 0 0 0
        ${r?`rgba(255, 255, 255, ${a.transparency.text.medium})`:`rgba(0, 0, 0, ${a.transparency.text.medium})`};
    }
  `} &[type='number']::-webkit-inner-spin-button,&[type='number']::-webkit-outer-spin-button{-webkit-appearance:none;}`,t.Label=i.default.div.withConfig({componentId:"-6grdo2"})`left:12px;position:absolute;transition:0.2s font-size,0.2s color,0.2s margin-top;transition-timing-function:${a.EASING_FUNCTION};-webkit-font-smoothing:antialiased;${(0,n.centerVertical)()};${({activated:e,focused:t,color:o,dark:r})=>i.css`
    font-size: ${e?12:16}px;
    margin-top: ${e?-12:0}px;
    color: ${t?o:r?`rgba(255, 255, 255, ${a.transparency.text.medium})`:`rgba(0, 0, 0, ${a.transparency.text.medium})`};
    ${e?(0,n.interMedium)():(0,n.interRegular)()};
  `}`,t.Indicator=i.default.div.withConfig({componentId:"-un9qbx"})`height:2px;margin-left:auto;margin-right:auto;left:0;right:0;bottom:0;position:absolute;transition:0.2s width ${a.EASING_FUNCTION};${({focused:e,color:t})=>i.css`
    width: ${e?100:0}%;
    background-color: ${t};
  `}`,t.Icon=i.default.div.withConfig({componentId:"-7mjeth"})`width:36px;height:36px;position:absolute;right:8px;opacity:${a.transparency.icons.inactive};border-radius:100%;overflow:hidden;cursor:pointer;transition:0.2s background-image;${(0,n.centerVertical)()};${(0,n.centerIcon)(24)};${({src:e,dark:t})=>i.css`
    background-image: url(${e});
    filter: ${t?"invert(100%)":"none"};
  `} &:hover{background-color:rgba(0, 0, 0, 0.12);}`},2556:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentDialogStyle=t.DialogStyle=t.DialogBaseStyle=t.DIALOG_BORDER_RADIUS=t.DIALOG_BOX_SHADOW=t.DIALOG_TRANSITION=void 0;const i=o(9163);t.DIALOG_TRANSITION="0.2s opacity",t.DIALOG_BOX_SHADOW="0 12px 16px rgba(0, 0, 0, 0.12), 0 8px 10px rgba(0, 0, 0, 0.16)",t.DIALOG_BORDER_RADIUS="8",t.DialogBaseStyle=i.default.div.withConfig({componentId:"-1fqmluc"})`margin:16px;margin-top:10px;box-shadow:${t.DIALOG_BOX_SHADOW};border-radius:${t.DIALOG_BORDER_RADIUS}px;overflow:hidden;position:relative;${({theme:e})=>i.css`
    background-color: ${e["dialog.backgroundColor"]};
  `}`,t.DialogStyle=(0,i.default)(t.DialogBaseStyle).withConfig({componentId:"-189w6xn"})`@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}animation:0.15s ease-out 0s 1 fadeIn;`,t.PersistentDialogStyle=(0,i.default)(t.DialogBaseStyle).withConfig({componentId:"-7i5y8g"})`${({visible:e,hideTransition:o})=>i.css`
    transition: ${e||o?t.DIALOG_TRANSITION:"none"};
    opacity: ${e?1:0};
  `}`},9637:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=o(7294),n=o(2766),a=o(1168),r=o(1348),l=o(9163),d=o(6785),s=o(6366),c=o(1842),u=o(1440),p=o(7063),f=o(9094),h=o(1540),g=o(9259),m=o(5487),b=o(8827),v=o(1298),I=o(1108),k=o(6905),x=o(585),w=o(7625),y=e=>{e.target.scrollTop>=e.target.scrollHeight-e.target.clientHeight-256&&(a.default.itemsLoaded+=a.default.getDefaultLoaded())},C=()=>{a.default.selectedItems=[]},$=()=>{a.default.deleteSelected()},_=e=>{a.default.search(e.currentTarget.value)},E=()=>{a.default.showDialog("new-folder")},D=()=>{a.default.showDialog("edit")},O=()=>{a.default.showDialog("rename-folder")},S=e=>()=>{a.default.currentFolder=e?e._id:null},R=async()=>{const e=await b.ipcRenderer.invoke("import-bookmarks");(0,f.addImported)(e)},F=async()=>{b.ipcRenderer.invoke("export-bookmarks")},L=e=>{e.stopPropagation()},T=()=>{a.default.dialogVisible=!1},B=e=>{e.stopPropagation()},M=()=>{"new-folder"===a.default.dialogContent?a.default.addItem({title:a.default.nameInputRef.current.value,isFolder:!0,parent:a.default.currentFolder,children:[]}):"edit"===a.default.dialogContent?a.default.updateItem(a.default.currentBookmark._id,{title:a.default.nameInputRef.current.value,url:a.default.urlInputRef.current.value}):"rename-folder"===a.default.dialogContent&&a.default.updateItem(a.default.currentBookmark._id,{title:a.default.nameInputRef.current.value}),a.default.dialogVisible=!1},P=(0,n.observer)((()=>{const e=a.default.visibleItems;return i.createElement(s.LeftContent,null,i.createElement(d.SelectionDialog,{theme:a.default.theme,visible:a.default.selectedItems.length>1,amount:a.default.selectedItems.length,onDeleteClick:$,onCancelClick:C}),i.createElement(u.PathView,null,a.default.path.map((e=>i.createElement(u.PathItem,{onClick:S(e),key:e._id},(0,f.getBookmarkTitle)(e))))),!!e.length&&i.createElement(h.EmptySection,null,e.map((e=>i.createElement(m.Bookmark,{data:e,key:e._id})))))}));t.default=(0,n.observer)((()=>{let e="New folder";return"edit"===a.default.dialogContent?e="Edit bookmark":"rename-folder"===a.default.dialogContent&&(e="Rename folder"),i.createElement(l.ThemeProvider,{theme:Object.assign({},a.default.theme)},i.createElement(s.Container,{onMouseDown:T,darken:a.default.dialogVisible},i.createElement(x.WebUIStyle,null),i.createElement(c.GlobalNavigationDrawer,null),i.createElement(r.NavigationDrawer,{title:"Bookmarks",search:!0,onSearchInput:_},i.createElement(g.default,null),i.createElement("div",{style:{flex:1}}),i.createElement(r.NavigationDrawer.Item,{icon:k.ICON_NEW_FOLDER,onClick:E},"New folder"),i.createElement(r.NavigationDrawer.Item,{icon:k.ICON_DOWNLOAD,onClick:R},"Import"),i.createElement(r.NavigationDrawer.Item,{icon:k.ICON_SAVE,onClick:F},"Export")),i.createElement(p.ContextMenu,{onMouseDown:L,style:{top:a.default.menuTop,left:a.default.menuLeft},visible:a.default.menuVisible},a.default.currentBookmark&&!a.default.currentBookmark.isFolder&&i.createElement(p.ContextMenuItem,{onClick:D},i.createElement(w.FontAwesomeIcon,{icon:k.ICON_EDIT,fixedWidth:!0}),"Edit"),a.default.currentBookmark&&a.default.currentBookmark.isFolder&&i.createElement(p.ContextMenuItem,{onClick:O},i.createElement(w.FontAwesomeIcon,{icon:k.ICON_EDIT,fixedWidth:!0}),"Rename"),i.createElement(p.ContextMenuItem,{onClick:(t=a.default.currentBookmark,()=>{a.default.removeItems([t._id]),a.default.menuVisible=!1})},i.createElement(w.FontAwesomeIcon,{icon:k.ICON_TRASH,fixedWidth:!0}),"Delete")),i.createElement(s.Content,{onScroll:y},i.createElement(P,null))),i.createElement(u.Dialog,{onMouseDown:B,visible:a.default.dialogVisible},i.createElement(u.DialogTitle,null,e),i.createElement(v.Textfield,{style:{width:"100%"},dark:a.default.theme["dialog.lightForeground"],ref:a.default.nameInputRef,label:"Name"}),i.createElement(v.Textfield,{style:{width:"100%",marginTop:16,display:"edit"===a.default.dialogContent?"block":"none"},dark:a.default.theme["dialog.lightForeground"],ref:a.default.urlInputRef,label:"URL"}),i.createElement(u.DialogButtons,null,i.createElement(I.Button,{onClick:()=>a.default.dialogVisible=!1,background:a.default.theme["dialog.lightForeground"]?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",foreground:a.default.theme["dialog.lightForeground"]?"white":"black"},"Cancel"),i.createElement(I.Button,{onClick:M,style:{marginLeft:8}},"Save")),i.createElement("div",{style:{clear:"both"}})));var t}))},1440:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DialogButtons=t.DialogTitle=t.Dialog=t.PathItem=t.PathView=void 0;const i=o(9163),n=o(6308),a=o(2556);t.PathView=i.default.div.withConfig({componentId:"-zm3gz"})`margin-top:48px;display:flex;`,t.PathItem=i.default.div.withConfig({componentId:"-1nlg74w"})`font-size:20px;font-weight:300;opacity:0.54;margin-right:4px;cursor:pointer;&:after{content:'/';margin-left:4px;}&:hover{opacity:1;}&:last-child{opacity:1;cursor:default;&:after{content:'';margin-left:0;}}`,t.Dialog=i.default.div.withConfig({componentId:"-1o4r9fu"})`position:fixed;width:512px;padding:16px;left:50%;top:50%;border-radius:${a.DIALOG_BORDER_RADIUS}px;z-index:999;box-shadow:${(0,n.shadows)(8)};transition:0.2s opacity;transform:translate(-50%, -50%);${({visible:e,theme:t})=>i.css`
    opacity: ${e?1:0};
    pointer-events: ${e?"inherit":"none"};
    background-color: ${t["dialog.backgroundColor"]};
    color: ${t["dialog.lightForeground"]?"white":"black"};
  `}`,t.DialogTitle=i.default.div.withConfig({componentId:"-vsgyj7"})`font-size:16px;margin-bottom:16px;`,t.DialogButtons=i.default.div.withConfig({componentId:"-n2iwxi"})`float:right;display:flex;margin-top:24px;`},5487:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmark=void 0;const i=o(7294),n=o(2766),a=o(8855),r=o(1168),l=o(4364),d=o(9094),s=o(6537),c=o(7625),u=e=>t=>{const o=r.default.selectedItems.indexOf(e._id);t.ctrlKey?-1===o?r.default.selectedItems.push(e._id):r.default.selectedItems.splice(o,1):r.default.selectedItems=[e._id]},p=e=>t=>{t.stopPropagation();const{left:o,top:i}=t.currentTarget.getBoundingClientRect();r.default.menuVisible=!0,r.default.menuLeft=o-130,r.default.menuTop=i,r.default.currentBookmark=e},f=e=>t=>{t.preventDefault(),u(e)(t);const{pageX:o,pageY:i}=t;r.default.menuVisible=!0,r.default.menuLeft=o,r.default.menuTop=i,r.default.currentBookmark=e};t.Bookmark=(0,n.observer)((({data:e})=>{const t=r.default.selectedItems.includes(e._id);let o=e.favicon,n=!1;return e.isFolder?(o=s.ICON_FOLDER,n=!0):o?o=o.startsWith("data:")?e.favicon:r.default.favicons.get(e.favicon):(o=s.ICON_PAGE,n=!0),i.createElement(l.ListItem,{onContextMenu:f(e),onDoubleClick:(h=e,()=>{h.isFolder?r.default.currentFolder=h._id:window.open(h.url,"_blank").focus()}),key:e._id,onClick:u(e),selected:t,style:{borderRadius:0}},i.createElement(a.Favicon,{theme:r.default.theme,style:{backgroundImage:"string"==typeof o?`url(${o})`:"",filter:r.default.theme["pages.lightForeground"]&&n?"invert(0%)":"none"}},"string"!=typeof o&&i.createElement(c.FontAwesomeIcon,{icon:o})),i.createElement(a.Title,null,(0,d.getBookmarkTitle)(e)),i.createElement(a.Site,null,e.url),!e.static&&i.createElement(a.More,{onClick:p(e)},i.createElement(c.FontAwesomeIcon,{icon:s.ICON_MORE})));var h}))},8855:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Site=t.Title=t.Favicon=t.More=void 0;const i=o(9163),n=o(6308);t.More=i.default.div.withConfig({componentId:"-14rvple"})`${(0,n.centerIcon)(20)};height:24px;width:24px;cursor:pointer;opacity:0.54;display:flex;justify-content:center;align-items:center;${({theme:e})=>i.css`
    filter: ${e["pages.lightForeground"]?"invert(0%)":"none"};
  `} &:hover{opacity:1;}`,t.Favicon=i.default.div.withConfig({componentId:"-13xdokt"})`${(0,n.centerIcon)()};height:16px;display:flex;justify-content:center;align-items:center;width:16px;margin-right:24px;${({theme:e})=>i.css`
    filter: ${e["dialog.lightForeground"]?"invert(100%)":""};
  `}`,t.Title=i.default.div.withConfig({componentId:"-1dtmvt8"})`flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:16px;${({theme:e})=>i.css`
    color: ${e["pages.lightForeground"]?"#fff":"#000"};
  `}`,t.Site=i.default.div.withConfig({componentId:"-cfipay"})`flex:1;opacity:0.54;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`},1540:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SectionTitle=t.EmptySection=void 0;const i=o(9163);t.EmptySection=i.default.div.withConfig({componentId:"-1g9nyuf"})`margin-top:16px;padding:8px 0 8px 0;overflow:hidden;border-radius:8px;&:first-child{margin-top:0;}${({theme:e})=>i.css`
    background-color: ${e["pages.lightForeground"]?"rgba(255, 255, 255, 0.05)":"#fafafa"};
  `};`,t.SectionTitle=i.default.div.withConfig({componentId:"-1e9k0c0"})`font-size:16px;padding:16px 24px;font-weight:500;`},9196:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=o(7294),n=o(2766),a=o(1168),r=o(9094),l=o(883),d=o(7625),s=o(6905),c=e=>t=>{t.stopPropagation(),e.children.length>0&&(e.expanded=!e.expanded)},u=(0,n.observer)((({depth:e,data:t})=>{if(!t)return null;const o=(t.children||[]).map((e=>a.default.list.find((t=>e===t._id)))).filter((e=>e&&e.isFolder));return i.createElement(i.Fragment,null,i.createElement(l.StyledTreeItem,{selected:a.default.currentFolder===t._id,onClick:(n=t,()=>{a.default.currentFolder=n._id}),style:{paddingLeft:30*e}},i.createElement(l.DropIcon,{visible:0!==o.length,expanded:t.expanded,onClick:c(t)},i.createElement(d.FontAwesomeIcon,{icon:t.expanded?s.ICON_DOWN:s.ICON_ARROW_RIGHT})),i.createElement(l.FolderIcon,null,i.createElement(d.FontAwesomeIcon,{icon:s.ICON_FOLDER,fixedWidth:!0})),i.createElement(l.Label,null,(0,r.getBookmarkTitle)(t))),t.expanded&&o.map((t=>i.createElement(u,{key:t._id,data:t,depth:e+1}))));var n}));t.default=u},883:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Label=t.FolderIcon=t.DropIcon=t.StyledTreeItem=void 0;const i=o(9163),n=o(6308),a=o(6905);t.StyledTreeItem=i.default.div.withConfig({componentId:"-1k4z6q1"})`width:100%;height:40px;display:flex;margin-top:4px;align-items:center;cursor:pointer;border-radius:5px;${({theme:e,selected:t})=>i.css`
    &:hover {
      background-color: ${e.backgroundColor};
    }

    background-color: ${t?e.backgroundColor:"none"};
  `}`,t.DropIcon=i.default.div.withConfig({componentId:"-1p5sgkw"})`min-width:24px;min-height:24px;margin:0 2px;border-radius:100%;display:flex;justify-content:center;align-items:center;${(0,n.centerIcon)(20)};${({visible:e,expanded:t,theme:o})=>i.css`
    opacity: ${e?a.transparency.icons.inactive:0};
    filter: ${o["pages.lightForeground"]?"invert(100%)":""};

    &:hover {
      background-color: rgba(0, 0, 0, 0.1);
      opacity: ${e?1:0};
    }
  `}`,t.FolderIcon=i.default.div.withConfig({componentId:"-1jl1t27"})`min-width:24px;min-height:24px;opacity:${a.transparency.icons.inactive};display:flex;align-items:center;justify-content:center;${(0,n.centerIcon)(20)} ${({theme:e})=>i.css`
    color: ${e.accentColor?"invert(100%)":""};
  `}`,t.Label=i.default.div.withConfig({componentId:"-vpg46a"})`font-size:13px;margin-left:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;`},9259:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=o(7294),n=o(2766),a=o(1168),r=o(9196),l=o(3709);t.default=(0,n.observer)((()=>i.createElement(l.StyledTreeView,null,a.default.list.filter((e=>null==e.parent)).map((e=>i.createElement(r.default,{key:e._id,data:e,depth:0}))))))},3709:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTreeView=void 0;const i=o(9163);t.StyledTreeView=i.default.div.withConfig({componentId:"-1r4gatj"})`width:100%;margin-top:12px;`},5942:(e,t,o)=>{const i=o(9637);(0,o(3109).renderWebUI)(i.default)},1168:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;const i=o(8949),n=o(1857),a=o(9254),r=o(8827),l=o(7294);class d{constructor(){this.faviconsDb=new a.PreloadDatabase("favicons"),this.nameInputRef=l.createRef(),this.urlInputRef=l.createRef(),this.settings=Object.assign({},window.settings),this.list=[],this.itemsLoaded=this.getDefaultLoaded(),this.menuLeft=0,this.menuTop=0,this.menuVisible=!1,this.searched="",this.selectedItems=[],this.favicons=new Map,this.currentFolder=null,this._dialogVisible=!1,this.dialogContent="new-folder",this.currentBookmark=null,(0,i.makeObservable)(this,{settings:i.observable,list:i.observable,itemsLoaded:i.observable,menuLeft:i.observable,menuTop:i.observable,menuVisible:i.observable,searched:i.observable,selectedItems:i.observable,favicons:i.observable,currentFolder:i.observable,_dialogVisible:i.observable,dialogContent:i.observable,currentBookmark:i.observable,visibleItems:i.computed,dialogVisible:i.computed,theme:i.computed,path:i.computed,folders:i.computed,search:i.action,deleteSelected:i.action}),window.updateSettings=e=>{this.settings=Object.assign(Object.assign({},this.settings),e)},this.load(),this.loadFavicons(),window.addEventListener("resize",(()=>{const e=this.getDefaultLoaded();e>this.itemsLoaded&&(this.itemsLoaded=e)})),window.addEventListener("mousedown",(()=>{this.menuVisible=!1}))}showDialog(e){this.dialogContent=e,this.dialogVisible=!0,"edit"!==e&&"rename-folder"!==e||(this.nameInputRef.current.value=this.currentBookmark.title,"edit"===e&&(this.urlInputRef.current.value=this.currentBookmark.url)),this.nameInputRef.current.inputRef.current.focus(),this.nameInputRef.current.inputRef.current.select()}get visibleItems(){return this.list.filter((e=>""!==this.searched&&(e.url&&e.url.toLowerCase().includes(this.searched.toLowerCase())||e.title&&e.title.toLowerCase().includes(this.searched.toLowerCase()))||""===this.searched&&e.parent===this.currentFolder)).slice().sort(((e,t)=>e.order-t.order))}get dialogVisible(){return this._dialogVisible}set dialogVisible(e){e||(this.nameInputRef.current.value=""),this.menuVisible=!1,this._dialogVisible=e}get theme(){return(0,n.getTheme)(this.settings.theme)}get path(){return this.getFolderPath(this.currentFolder)}get folders(){return this.list.filter((e=>e.isFolder))}resetLoadedItems(){this.itemsLoaded=this.getDefaultLoaded()}getById(e){return this.list.find((t=>t._id===e))}async load(){const e=await r.ipcRenderer.invoke("bookmarks-get");this.list=e.map((e=>Object.assign({},e))),this.currentFolder=this.list.find((e=>"main"===e.static))._id}async loadFavicons(){(await this.faviconsDb.get({})).forEach((e=>{const{data:t}=e;null==this.favicons.get(e.url)&&this.favicons.set(e.url,t)}))}removeItems(e){for(const t of e){const e=this.list.find((e=>e._id===t)),o=this.list.find((t=>t._id===e.parent));o.children=o.children.filter((e=>e!==t))}this.list=this.list.filter((t=>!e.includes(t._id))),r.ipcRenderer.send("bookmarks-remove",(0,i.toJS)(e))}async addItem(e){const t=await r.ipcRenderer.invoke("bookmarks-add",e);return this.list.push(Object.assign({},t)),this.list.find((e=>e._id===t.parent)).children.push(t._id),t}async updateItem(e,t){const o=this.list.indexOf(this.list.find((t=>t._id===e)));this.list[o]=Object.assign(Object.assign({},this.list[o]),t),r.ipcRenderer.send("bookmarks-update",e,(0,i.toJS)(t))}search(e){this.searched=e.toLowerCase().toLowerCase(),this.itemsLoaded=this.getDefaultLoaded()}getDefaultLoaded(){return Math.floor(window.innerHeight/48)}deleteSelected(){this.removeItems(this.selectedItems),this.selectedItems=[]}getFolderPath(e){const t=this.list.find((t=>t._id===e));let o=[];return null==t?[]:(null!=t.parent&&(o=o.concat(this.getFolderPath(t.parent))),o.push(t),o)}}t.Store=d,t.default=new d},9094:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addImported=t.getBookmarkTitle=void 0;const i=o(1168);t.getBookmarkTitle=e=>e.static?"main"===e.static?"Bookmarks bar":"mobile"===e.static?"Mobile bookmarks":"other"===e.static?"Other bookmarks":"":e.title;t.addImported=async(e,o=null)=>{let n=0;for(const a of e){if(a.nsRoot){let e=null;return e="toolbar"===a.nsRoot?i.default.list.find((e=>"main"===e.static)):i.default.list.find((e=>"other"===e.static)),void(e&&(0,t.addImported)(a.children,e))}const e=await i.default.addItem({isFolder:"folder"===a.type,title:a.title,url:a.url,parent:o&&o._id,children:[],favicon:a.icon,order:n});o&&o.children.push(e._id),e.isFolder&&(0,t.addImported)(a.children,e),n++}}},8827:e=>{e.exports=require("electron")}},e=>{var t=t=>e(e.s=t);e.O(0,[539,657,625,884,540],(()=>(t(1710),t(5942))));e.O()}]);