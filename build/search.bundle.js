(self.webpackChunkskye=self.webpackChunkskye||[]).push([[464],{6189:e=>{e.exports=function(e){e.charAt&&"#"===e.charAt(0)&&(e=function(e){var t=e.split("");return t.shift(),t.join("")}(e)),3===e.length&&(e=function(e){return e.split("").reduce((function(e,t){return e.concat([t,t])}),[]).join("")}(e));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}},5283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkMainChannel=void 0;const r=n(3260);t.networkMainChannel=new r.RendererToMainChannel("NetworkService")},2937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIALOG_MARGIN_TOP=t.DIALOG_TOP=t.DIALOG_MARGIN=t.DIALOG_MIN_HEIGHT=t.MENU_WIDTH=t.WINDOWS_BUTTON_WIDTH=t.VIEW_Y_OFFSET=t.COMPACT_TITLEBAR_HEIGHT=t.DEFAULT_TITLEBAR_HEIGHT=t.ADD_TAB_BUTTON_HEIGHT=t.ADD_TAB_BUTTON_WIDTH=t.TOOLBAR_BUTTON_HEIGHT=t.TOOLBAR_BUTTON_WIDTH=t.TOOLBAR_HEIGHT=t.COMPACT_TAB_HEIGHT=t.DEFAULT_TAB_HEIGHT=t.COMPACT_TAB_MARGIN_TOP=t.DEFAULT_TAB_MARGIN_TOP=void 0,t.DEFAULT_TAB_MARGIN_TOP=4,t.COMPACT_TAB_MARGIN_TOP=3,t.DEFAULT_TAB_HEIGHT=32,t.COMPACT_TAB_HEIGHT=32,t.TOOLBAR_HEIGHT=42,t.TOOLBAR_BUTTON_WIDTH=36,t.TOOLBAR_BUTTON_HEIGHT=32,t.ADD_TAB_BUTTON_WIDTH=28,t.ADD_TAB_BUTTON_HEIGHT=28,t.DEFAULT_TITLEBAR_HEIGHT=t.DEFAULT_TAB_MARGIN_TOP+t.DEFAULT_TAB_HEIGHT,t.COMPACT_TITLEBAR_HEIGHT=2*t.COMPACT_TAB_MARGIN_TOP+t.COMPACT_TAB_HEIGHT,t.VIEW_Y_OFFSET=t.TOOLBAR_HEIGHT+t.DEFAULT_TITLEBAR_HEIGHT,t.WINDOWS_BUTTON_WIDTH=45,t.MENU_WIDTH=330,t.DIALOG_MIN_HEIGHT=130,t.DIALOG_MARGIN=16,t.DIALOG_TOP=0,t.DIALOG_MARGIN_TOP=0},6807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coloredCursor=t.defaultCursor=t.pointer=void 0;const r=n(6905);t.pointer=()=>"\n    user-select: none;\n    cursor: pointer;\n  ";t.defaultCursor=()=>"\n    user-select: none;\n    cursor: default;\n  ";t.coloredCursor=(e,t=0)=>`\n  -webkit-text-fill-color: transparent;\n  text-shadow: 0px 0px 0px rgba(${t}, ${t}, ${t}, ${r.transparency.text.high});\n  color: ${e};\n`},9038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coverImage=t.customImage=t.centerIcon=void 0;t.centerIcon=(e="contain")=>{let t=e.toString();return"number"==typeof e&&(t+="px"),`\n    background-size: ${t};\n    background-position: center;\n    background-repeat: no-repeat;\n`};t.customImage=(e,t,n,r)=>`\n    background-size: ${e} ${t};\n    background-position: ${n} ${r};\n    background-repeat: no-repeat;\n  `;t.coverImage=()=>"\n    background-size: cover;\n    background-repeat: no-repeat;\n  "},6308:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(6807),t),s(n(9038),t),s(n(158),t),s(n(771),t),s(n(9753),t),s(n(7202),t),s(n(7684),t)},158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.centerVertical=t.centerBoth=t.centerHorizontal=void 0;const r=n(9163);t.centerHorizontal=()=>r.css`left:50%;transform:translateX(-50%);`;t.centerBoth=()=>r.css`left:50%;top:50%;transform:translate(-50%, -50%);`;t.centerVertical=()=>r.css`top:50%;transform:translateY(-50%);`},771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noButtons=void 0;t.noButtons=(e="6px",t="rgba(0, 0, 0, 0.38)",n="rgba(0, 0, 0, 0.54)")=>`\n    &::-webkit-scrollbar {\n      width: ${e};\n    }\n\n    &::-webkit-scrollbar-button {\n      width: 0px;\n      height: 0px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: ${t};\n      border: 0px none #ffffff;\n      border-radius: 0px;\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background: ${n};\n    }\n\n    &::-webkit-scrollbar-corner {\n      background: transparent;\n    }\n  `},9753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shadows=void 0;const n=["0px 0px 0px 0px","0px 2px 1px -1px","0px 3px 1px -2px","0px 3px 3px -2px","0px 2px 4px -1px","0px 3px 5px -1px","0px 3px 5px -1px","0px 4px 5px -2px","0px 5px 5px -3px","0px 5px 6px -3px","0px 6px 6px -3px","0px 6px 7px -4px","0px 7px 8px -4px","0px 7px 8px -4px","0px 7px 9px -4px","0px 8px 9px -5px","0px 8px 10px -5px","0px 8px 11px -5px","0px 9px 11px -5px","0px 9px 12px -6px","0px 10px 13px -6px","0px 10px 13px -6px","0px 10px 14px -6px","0px 11px 14px -7px","0px 11px 15px -7px"],r=["0px 0px 0px 0px","0px 1px 1px 0px","0px 2px 2px 0px","0px 3px 4px 0px","0px 4px 5px 0px","0px 5px 8px 0px","0px 6px 10px 0px","0px 7px 10px 1px","0px 8px 10px 1px","0px 9px 12px 1px","0px 10px 14px 1px","0px 11px 15px 1px","0px 12px 17px 2px","0px 13px 19px 2px","0px 14px 21px 2px","0px 15px 22px 2px","0px 16px 24px 2px","0px 17px 26px 2px","0px 18px 28px 2px","0px 19px 29px 2px","0px 20px 31px 3px","0px 21px 33px 3px","0px 22px 35px 3px","0px 23px 36px 3px","0px 24px 38px 3px"],s=["0px 0px 0px 0px","0px 1px 3px 0px","0px 1px 5px 0px","0px 1px 8px 0px","0px 1px 10px 0px","0px 1px 14px 0px","0px 1px 18px 0px","0px 2px 16px 1px","0px 3px 14px 2px","0px 3px 16px 2px","0px 4px 18px 3px","0px 4px 20px 3px","0px 5px 22px 4px","0px 5px 24px 4px","0px 5px 26px 4px","0px 6px 28px 5px","0px 6px 30px 5px","0px 6px 32px 5px","0px 7px 34px 6px","0px 7px 36px 6px","0px 8px 38px 7px","0px 8px 40px 7px","0px 8px 42px 7px","0px 9px 44px 8px","0px 9px 46px 8px"];t.shadows=(e,t="0, 0, 0",i=1)=>`\n    ${n[e]} ${`rgba(${t}, ${.2*i})`},\n    ${r[e]} ${`rgba(${t}, ${.14*i})`},\n    ${s[e]} ${`rgba(${t}, ${.12*i})`}\n  `},7684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noTapHighlight=t.noUserSelect=void 0;t.noUserSelect=()=>"\n  user-select: none;\n";t.noTapHighlight=()=>"\n  -webkit-tap-highlight-color:  rgba(255, 255, 255, 0) !important;\n"},6805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(7294),s=n(2766),i=n(9163),o=n(3659),p=n(7461),a=n(889),l=n(8827),c=n(5905),u=n(6905),x=n(585),d=n(2937),g=e=>{if(13===e.which){e.preventDefault();const t=e.currentTarget.value;let n=t;const r=p.default.suggestions.selectedSuggestion;r&&(r.isSearch?n=p.default.searchEngine.url.replace("%s",t):-1===t.indexOf("://")&&(n=t.startsWith("localhost")?`http://${t}`:`https://${t}`)),e.currentTarget.value=n,(0,a.callViewMethod)(p.default.tabId,"loadURL",n),p.default.hide()}},h=e=>{const{suggestions:t}=p.default,{list:n}=t,r=p.default.inputRef.current;if(p.default.canSuggest=p.default.getCanSuggest(e.keyCode),"Escape"===e.key)p.default.hide({focus:!0,escape:!0});else if(38===e.keyCode||40===e.keyCode){e.preventDefault(),40===e.keyCode&&t.selected+1<=n.length-1+p.default.searchedTabs.length?t.selected++:38===e.keyCode&&t.selected-1>=0&&t.selected--;let s=n.find((e=>e.id===t.selected));s||(s=p.default.searchedTabs.find((e=>e.id===t.selected))),r.value=s.isSearch?s.primaryText:s.url}},f=e=>{p.default.inputText=e.currentTarget.value,l.ipcRenderer.send(`addressbar-update-input-${p.default.id}`,{id:p.default.tabId,text:p.default.inputRef.current.value,selectionStart:p.default.inputRef.current.selectionStart,selectionEnd:p.default.inputRef.current.selectionEnd}),""===e.currentTarget.value.trim()&&p.default.hide({focus:!0}),p.default.suggest()};t.App=(0,s.observer)((()=>{const e=0!==p.default.suggestions.list.length;let t=0;if(e)for(const e of p.default.suggestions.list)t+=38;requestAnimationFrame((()=>{l.ipcRenderer.send(`height-${p.default.id}`,t)}));const n=p.default.suggestions.selectedSuggestion;let s=u.ICON_SEARCH,a=!0;return n&&e&&(s=n.favicon,a=!1,n.isSearch?s=p.default.searchEngine.icon:(null==s||"string"==typeof s&&""===s.trim()||s===u.ICON_PAGE)&&(s=u.ICON_PAGE,a=!0)),r.createElement(i.ThemeProvider,{theme:Object.assign(Object.assign({},p.default.theme),{searchBoxHeight:"compact"===p.default.settings.topBarVariant?d.COMPACT_TITLEBAR_HEIGHT:d.TOOLBAR_HEIGHT-1})},r.createElement(o.StyledApp,null,r.createElement(x.UIStyle,null),r.createElement(o.SearchBox,null,r.createElement(o.CurrentIcon,{style:{backgroundImage:`url(${s})`,filter:a&&p.default.theme["dialog.lightForeground"]?"invert(100%)":"none",opacity:a?.54:1}}),r.createElement(o.Input,{onKeyDown:h,onInput:f,ref:p.default.inputRef,onKeyPress:g})),r.createElement(c.Suggestions,{visible:e})))}))},3659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBox=t.CurrentIcon=t.Input=t.Buttons=t.Subtitle=t.Title=t.StyledApp=void 0;const r=n(9163),s=n(6308),i=n(2556);t.StyledApp=(0,r.default)(i.DialogStyle).withConfig({componentId:"-iwaghi"})`transition:none;padding-bottom:4px;border-radius:8px;margin-top:0px;${({theme:e})=>r.css`
    background-color: ${e["searchBox.backgroundColor"]};
    color: ${e["searchBox.lightForeground"]?"rgba(255, 255, 255, 0.87)":"black"};
  `}`,t.Title=r.default.div.withConfig({componentId:"-1su79v2"})`font-size:16px;`,t.Subtitle=r.default.div.withConfig({componentId:"-1o482hz"})`font-size:13px;opacity:0.54;margin-top:8px;`,t.Buttons=r.default.div.withConfig({componentId:"-r9jyid"})`display:flex;margin-top:16px;float:right;`,t.Input=r.default.input.attrs((()=>({spellCheck:!1}))).withConfig({componentId:"-5aplly"})`outline:none;border:none;width:100%;height:100%;font-family:inherit;font-size:14px;padding-left:12px;padding-right:8px;padding-top:1px;background-color:transparent;color:inherit;${({theme:e})=>r.css`
    &::placeholder {
      color: ${e["searchBox.lightForeground"]?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)"};
    }
  `}`,t.CurrentIcon=r.default.div.withConfig({componentId:"-1tkkjrs"})`width:16px;height:16px;min-width:16px;${(0,s.centerIcon)()};margin-left:11px;`,t.SearchBox=r.default.div.withConfig({componentId:"-1a1l9li"})`display:flex;align-items:center;${({theme:e})=>r.css`
    height: ${e.searchBoxHeight}px;
  `}`},836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestion=void 0;const r=n(2766),s=n(7294),i=n(6905),o=n(1148),p=n(7461),a=n(889),l=n(7625),c=e=>()=>{e.hovered=!0},u=e=>()=>{e.hovered=!1},x=e=>()=>{let t=e.isSearch?e.primaryText:e.url;e.isSearch?t=p.default.searchEngine.url.replace("%s",t):-1===t.indexOf("://")&&(t=`https://${t}`),(0,a.callViewMethod)(p.default.tabId,"loadURL",t),p.default.hide()};t.Suggestion=(0,r.observer)((({suggestion:e})=>{const{hovered:t}=e,{primaryText:n,secondaryText:r,url:a}=e,d=p.default.suggestions.selected===e.id;let{favicon:g}=e;(null==g||"string"==typeof g&&""===g.trim())&&(g=i.ICON_PAGE);const h=g!==i.ICON_PAGE&&g!==i.ICON_SEARCH;return s.createElement(o.StyledSuggestion,{selected:d,hovered:t,onClick:x(e),onMouseEnter:c(e),onMouseLeave:u(e)},"string"==typeof g?s.createElement(o.Icon,{style:{backgroundImage:`url(${g})`,opacity:h?1:i.transparency.icons.inactive,filter:h?"none":p.default.theme["searchBox.lightForeground"]?"invert(100%)":"none"}}):s.createElement(o.Icon,null,s.createElement(l.FontAwesomeIcon,{icon:g,fixedWidth:!0})),n&&s.createElement(o.PrimaryText,null,n),n&&(r||a)&&s.createElement(o.Dash,null,"–"),a?s.createElement(o.Url,null,a):s.createElement(o.SecondaryText,null,r))}))},1148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dash=t.Icon=t.SecondaryText=t.Url=t.RightText=t.PrimaryText=t.SuggestionText=t.StyledSuggestion=void 0;const r=n(9163),s=n(6905),i=n(6308);t.StyledSuggestion=r.default.div.withConfig({componentId:"-1dkd70v"})`width:100%;height:38px;min-height:38px;display:flex;position:relative;align-items:center;overflow:hidden;${({selected:e,hovered:t,theme:n})=>{let s="transparent";return e?s=n["searchBox.lightForeground"]?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.06)":t&&(s=n["searchBox.lightForeground"]?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)"),r.css`
      background-color: ${s};
    `}};`,t.SuggestionText=r.default.div.withConfig({componentId:"-12cm0bq"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;`,t.PrimaryText=(0,r.default)(t.SuggestionText).withConfig({componentId:"-1sya006"})`opacity:${s.transparency.text.high};`,t.RightText=(0,r.default)(t.SuggestionText).withConfig({componentId:"-e1e92"})`padding-right:16px;flex:1;`,t.Url=(0,r.default)(t.RightText).withConfig({componentId:"-uqcbn1"})`${({theme:e})=>r.css`
    color: ${e["searchBox.lightForeground"]?s.BLUE_300:"#3297FD"};
  `}`,t.SecondaryText=(0,r.default)(t.RightText).withConfig({componentId:"-rgog3m"})`opacity:${s.transparency.text.medium};`,t.Icon=r.default.div.withConfig({componentId:"-1egxbts"})`margin-left:11px;width:16px;min-width:16px;height:16px;margin-right:12px;${(0,i.centerIcon)()};`,t.Dash=r.default.div.withConfig({componentId:"-1lsa6n6"})`margin-left:4px;margin-right:4px;opacity:${s.transparency.text.medium};`},5905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestions=void 0;const r=n(2766),s=n(7294),i=n(4176),o=n(7461),p=n(836),a=e=>{e.stopPropagation()};t.Suggestions=(0,r.observer)((({visible:e})=>s.createElement(i.StyledSuggestions,{visible:e,onMouseDown:a},o.default.suggestions.list.map((e=>s.createElement(p.Suggestion,{suggestion:e,key:e.id}))))))},4176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSuggestions=void 0;const r=n(9163);t.StyledSuggestions=r.default.div.withConfig({componentId:"-19irbfu"})`width:100%;overflow:hidden;${({visible:e})=>r.css`
    display: ${e?"block":"none"};
  `};`},3015:(e,t,n)=>{"use strict";const r=n(6805);(0,n(2341).renderUI)(r.App)},7461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;const r=n(7294),s=n(8827),i=n(8949),o=n(1677),p=n(63);let a;class l extends p.DialogStore{constructor(){super({visibilityWrapper:!1,persistent:!0}),this.suggestions=new o.SuggestionsStore(this),this.visitedItems=[],this.tabs=[],this.inputText="",this.canSuggest=!1,this.inputRef=r.createRef(),this.tabId=1,(0,i.makeObservable)(this,{visitedItems:i.observable,tabs:i.observable,inputText:i.observable,searchedTabs:i.computed,searchEngine:i.computed}),s.ipcRenderer.on("visible",((e,t,n)=>{if(this.visible=t,t){this.tabs=[],this.tabId=n.id,this.canSuggest=this.inputText.length<=n.text.length,this.inputRef.current.value=n.text,this.inputRef.current.focus(),this.inputRef.current.setSelectionRange(n.cursorPos,n.cursorPos);const e=new Event("input",{bubbles:!0});this.inputRef.current.dispatchEvent(e)}})),s.ipcRenderer.on("search-tabs",((e,t)=>{this.tabs=t})),(async()=>{await this.loadHistory()})(),s.ipcRenderer.send(`can-show-${this.id}`),this.onHide=e=>{s.ipcRenderer.send(`addressbar-update-input-${this.id}`,Object.assign({id:this.tabId,text:this.inputRef.current.value,selectionStart:this.inputRef.current.selectionStart,selectionEnd:this.inputRef.current.selectionEnd},e)),this.tabs=[],this.inputRef.current.value="",this.suggestions.list=[]}}get searchedTabs(){const e=this.suggestions.list[this.suggestions.list.length-1];let t=0;return e&&(t=e.id+1),this.tabs.filter((e=>-1!==e.title.indexOf(this.inputText)||-1!==e.url.indexOf(this.inputText))).map((e=>({primaryText:e.url,secondaryText:e.title,id:t++,favicon:e.favicon}))).slice(0,3)}get searchEngine(){return this.settings.searchEngines[this.settings.searchEngine]}getCanSuggest(e){return 8!==e&&13!==e&&17!==e&&18!==e&&16!==e&&9!==e&&20!==e&&46!==e&&32!==e}async loadHistory(){this.visitedItems=await s.ipcRenderer.invoke("topsites-get")}suggest(){const{suggestions:e}=this,t=this.inputRef.current;this.canSuggest&&this.autoComplete(t.value,a),e.load(t).then((e=>{a=e,this.canSuggest&&(this.autoComplete(t.value.substring(0,t.selectionStart),e),this.canSuggest=!1)})),e.selected=0}autoComplete(e,t){const n=/(http(s?)):\/\/(www.)?|www./gi,r=/(http(s?)):\/\//gi,s=e.length,i=this.inputRef.current;i.selectionStart===i.value.length&&t&&(t.startsWith(e.replace(n,""))?i.value=e+t.replace(e.replace(n,""),""):`www.${t}`.startsWith(e.replace(r,""))&&(i.value=e+`www.${t}`.replace(e.replace(r,""),"")),i.setSelectionRange(s,i.value.length))}}t.Store=l,t.default=new l},1677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsStore=void 0;const r=n(8949),s=n(96),i=n(9896),o=n(6905);let p=[];t.SuggestionsStore=class{constructor(e){this.list=[],this.selected=0,this.height=0,(0,r.makeObservable)(this,{list:r.observable,selected:r.observable,height:r.observable,selectedSuggestion:r.computed}),this.store=e}get selectedSuggestion(){return this.list.find((e=>e.id===this.selected))}load(e){return new Promise((async t=>{const n=e.value.substring(0,e.selectionStart),r=(0,s.getHistorySuggestions)(n),a=[];for(const e of r)e.isSearch?a.push({primaryText:e.url,favicon:o.ICON_SEARCH,canSuggest:e.canSuggest,isSearch:!0}):a.push({primaryText:e.title,url:e.url,favicon:e.favicon,canSuggest:e.canSuggest});let l=1;r[0]&&r[0].canSuggest||""===n.trim()||((0,i.isURL)(n)||-1!==n.indexOf("://")?a.unshift({url:n,favicon:o.ICON_PAGE}):l=0),a.splice(l,0,{primaryText:n,secondaryText:`${this.store.searchEngine.name} Search`,favicon:o.ICON_SEARCH,isSearch:!0});let c=""===e.value?[]:a.concat(p).slice(0,8);for(let e=0;e<c.length;e++)c[e].id=e;this.list=c,a.length>0&&a[0].canSuggest&&t(a[0].url);try{const t=await(0,s.getSearchSuggestions)(n);if(e.value.substring(0,e.selectionStart)===n){p=[];for(const e of t)p.push({primaryText:e,favicon:o.ICON_SEARCH,isSearch:!0});c=""===e.value?[]:a.concat(p).slice(0,8);for(let e=0;e<c.length;e++)c[e].id=e;this.list=c}}catch(e){console.error(e)}}))}}},96:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchSuggestions=t.getHistorySuggestions=void 0;const r=n(5283),s=n(7461);t.getHistorySuggestions=e=>{if(""===(e=e.trim().toLowerCase()))return[];const t=/(http(s?)):\/\/(www.)?|www./gi;let n=[];const r=[],i=[],o=e.replace(t,"");for(const n of s.default.visitedItems){let p=n.url.replace(t,"");p.endsWith("/")&&(p=p.slice(0,-1));const a=Object.assign(Object.assign({},n),{url:p});if(-1!==p.indexOf(s.default.searchEngine.url.replace("%s","").replace(t,""))){const t=p.split("q=")[1].split("&")[0].replace(/\+/g," ").replace(/%20/g," ");t.startsWith(e)&&0===r.filter((e=>e.url===t)).length&&(a.url=t,r.push({url:t,canSuggest:!0,isSearch:!0}))}else p.toLowerCase().startsWith(o)||`www.${p}`.startsWith(o)?r.push(Object.assign(Object.assign({},a),{canSuggest:!0})):a.title.toLowerCase().includes(e)&&i.push(Object.assign(Object.assign({},a),{canSuggest:!1}))}let p=r.slice(0,6);n=[];for(const e of p)n.push(e);p=i.slice(0,6);for(const e of p)n.push(e);return n.slice(0,6)};t.getSearchSuggestions=e=>new Promise((async(t,n)=>{const i=e.trim().toLowerCase();if(""===i)return t([]);try{if(""===s.default.searchEngine.keywordsUrl)return n(new Error("No search engine keyword URL specified"));const e=JSON.parse((await r.networkMainChannel.getInvoker().request(s.default.searchEngine.keywordsUrl.replace("%s",encodeURIComponent(i)))).data);let o=[];for(const t of e[1])-1===o.indexOf(t)&&o.push(String(t).toLowerCase());o=o.sort(((e,t)=>e.length-t.length)).slice(0,6),t(o)}catch(e){n(e)}}))},9681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=t.rgbToHex=t.getColorBrightness=t.contrast=void 0;const r=n(6189);t.contrast=e=>{const t=r(e);return Math.round((299*parseInt(t[0])+587*parseInt(t[1])+114*parseInt(t[2]))/1e3)<=180?"dark":"light"};t.getColorBrightness=e=>{let t,n,r;if(e.match(/^rgb/)){const s=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3])}else{const s=+`0x${e.slice(1).replace(e.length<5&&/./g,"$&$&")}`;t=s>>16,n=s>>8&255,r=255&s}return Math.sqrt(t*t*.299+n*n*.587+r*r*.114)};const s=e=>{const t=e.toString(16);return 1==t.length?"0"+t:t};t.rgbToHex=e=>"#"+s(Math.round(e[0]))+s(Math.round(e[1]))+s(Math.round(e[2]));t.hexToRgb=e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}},9896:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(8750),t),s(n(9752),t),s(n(8811),t),s(n(9681),t)},8750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPath=void 0;const r=n(6410),s=n(8827);t.getPath=(...e)=>{let t;if("browser"!==process.type)t=n(7657).app.getPath("userData");else{if(!s.app)return null;t=s.app.getPath("userData")}return(0,r.resolve)(t,...e).replace(/\\/g,"/")}},9752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashCode=t.capitalizeFirst=t.replaceAll=t.makeId=void 0;t.makeId=(e,t="abcdefghijklmnopqrstuvwxyz")=>{let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n};t.replaceAll=(e,t,n,r="gi")=>(t=t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),e.replace(new RegExp(t,r),n));t.capitalizeFirst=e=>e.substr(0,1).toUpperCase()+e.substring(1).toLowerCase();t.hashCode=e=>{let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}},8811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixHttp=t.getDomain=t.matchesPattern=t.isURL=void 0;t.isURL=e=>{const t=/^(?:\w+:)?\/\/([^\s.]+\.\S{2}|localhost[:?\d]*)\S*$/;return!!t.test(e)||t.test(`https://${e}`)};t.matchesPattern=(e,t)=>{if("<all_urls>"===e)return!0;const n=new RegExp(`^${e.replace(/\*/g,".*").replace("/","\\/")}$`);return null!=t.match(n)};t.getDomain=e=>{let t=e;return(t.includes("https://")||t.includes("https://"))&&(t=t.split("://")[1]),t.includes("?")&&(t=t.split("?")[0]),t=t.includes("://")?`${t.split("://")[0]}://${t.split("/")[2]}`:t.split("/")[0],t};t.prefixHttp=e=>(e=e.trim()).includes("://")?e:`https://${e}`},889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callViewMethod=void 0;const r=n(8827);t.callViewMethod=async(e,t,...n)=>{try{return await r.ipcRenderer.invoke("web-contents-call",{args:n,method:t,webContentsId:e})}catch(e){}}},8827:e=>{"use strict";e.exports=require("electron")},6410:e=>{"use strict";e.exports=require("path")}},e=>{var t=t=>e(e.s=t);e.O(0,[539,657,625,884,69],(()=>(t(1710),t(3015))));e.O()}]);